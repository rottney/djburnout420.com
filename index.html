<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		div {
			/*
            padding-top: 25px;
			padding-bottom: 25px;
            */
			margin: auto;
			display: block;
			width: 80%;
		}
	</style>
</head>

<body onload="loadTrack()">
    <div>
        <h1>About</h1>
    </div>
    <div>
        I am a DJ, and I am a burnout
    </div>
	<div>
		<h1>Music</h1>
    </div>
    <div>
        <h2>DJ Mixes</h2>
        <iframe width="100%" height="450" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/1427811964&color=%230d1a10&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false"></iframe>
    </div>
    <div>
        <h2>OGs / Remixes</h2>
        <button onclick="prev()">Prev</button>
        <button onclick="next()">Next</button>
        <br>
        <p id="trackName">Loading...</p>
        <audio id="audioPlayer", controls>
            <source id="currentTrack", src="", type="audio/mp3">
            Your browser does not support the audio element.
        </audio>

	</div>
</body>

<script>
    const tracklist = [
        "All my friends live in Brooklyn :'(",
        "Fergie - Glamorous (DJ BURNOUT Remix)",
        "molly percocet",
        "trippin balls in the wegmans parking lot",
    ];

    let pos = 0;

    function loadTrack() {
        const currentTrack = document.getElementById("currentTrack");
        currentTrack.setAttribute("src", getPath());

        const audioPlayer = document.getElementById("audioPlayer");
        const audioPlayerHTML = audioPlayer.outerHTML;
        audioPlayer.outerHTML = audioPlayerHTML;

        const trackName = document.getElementById("trackName");
        trackName.innerHTML = getTitle();
    }

    function prev() {
        if (pos !== 0) {
            pos--;
        }
        // TODO: gray out "Prev" button
        else {
            console.log("already at the beginning");
        }
        loadTrack();
    }

    function next() {
        if (pos !== tracklist.length - 1) {
            pos++;
        }
        // TODO: gray out "Next" button
        else {
            console.log("already at the end");
        }
        loadTrack();
    }

    function getPath() {
        return "music/".concat(tracklist[pos], ".mp3");
    }

    function getTitle() {
        return tracklist[pos];
    }
</script>

</html>
